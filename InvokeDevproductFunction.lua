local buyService = GetService(DevProductService)
local httpService = GetService(HttpService)

local function invoke-purchase(buyService,httpService)
{

    local table = [<ID=YourProductId><AUTH=AuthToken>]

    buyService.PromptPurchase(ExtractFromTable(table<ID>)).new
    {

        pcall function new()
        (

            local function InvokeErrorMessageEvent(result)
            (
                <error logic here>
            )

            onError.Return:InvokeErrorMessageEvent()

        )
        else
        (
    
            parent.AssumeSuccess(success)

        )

        private result = parent.OutcomeMsg

        print(result)

    }

}